# coding: utf-8

from bell import api
import time

SOME_PATH = [[80,231],
             [83,238],
             [90,9],
             [97,20],
             [106,28],
             [116,37],
             [126,43],
             [138,45],
             [147,47],
             [158,47],
             [165,47],
             [174,47],
             [186,45],
             [199,38],
             [209,35],
             [218,30],
             [221,29],
             [229,25],
             [232,21],
             [236,18],
             [240,14],
             [245,10],
             [250,5],
             [255,239],
             [259,233],
             [261,231],
             [262,229],
             [260,229],
             [253,230],
             [240,236],
             [221,5],
             [203,13],
             [186,21],
             [171,36],
             [153,48],
             [138,63],
             [120,75],
             [105,86],
             [90,96],
             [79,104],
             [69,110],
             [57,117],
             [52,120],
             [47,124],
             [44,126],
             [40,130],
             [38,132],
             [37,135],
             [37,137],
             [37,139],
             [37,141],
             [37,143],
             [37,145],
             [37,147],
             [37,149],
             [38,150],
             [40,151],
             [41,152],
             [44,152],
             [50,152],
             [61,152],
             [84,142],
             [112,125],
             [154,105],
             [202,85],
             [257,62],
             [304,42],
             [350,22],
             [39,2],
             [80,225],
             [115,210],
             [150,194],
             [180,182],
             [207,167],
             [229,154],
             [247,144],
             [262,134],
             [271,126],
             [276,121],
             [280,118],
             [280,115],
             [282,110],
             [284,105],
             [285,103],
             [285,98],
             [285,94],
             [285,91],
             [283,89],
             [278,85],
             [275,81],
             [268,80],
             [260,76],
             [251,75],
             [235,74],
             [215,74],
             [195,72],
             [174,70],
             [147,70],
             [120,70],
             [92,74],
             [72,75],
             [45,80],
             [20,84],
             [357,87],
             [337,90],
             [326,95],
             [318,98],
             [311,101],
             [306,101],
             [304,102],
             [303,102],
             [302,103],
             [301,104],
             [299,106],
             [298,110],
             [297,116],
             [297,125],
             [295,135],
             [293,149],
             [293,162],
             [293,178],
             [293,192],
             [293,210],
             [296,230],
             [300,13],
             [305,36],
             [313,60],
             [318,83],
             [321,108],
             [326,128],
             [328,140],
             [330,147],
             [330,149],
             [333,146],
             [339,140],
             [354,125],
             [10,110],
             [42,77],
             [59,62],
             [72,49],
             [87,35],
             [102,20],
             [115,7],
             [129,234],
             [138,222],
             [148,210],
             [154,201],
             [159,194],
             [165,185],
             [170,177],
             [173,171],
             [176,167],
             [177,164],
             [180,160],
             [182,158],
             [183,157],
             [185,155],
             [186,156],
             [186,158],
             [186,160],
             [186,162],
             [186,165],
             [186,166],
             [186,167],
             [186,168],
             [186,170],
             [186,173],
             [186,177],
             [186,185],
             [186,193],
             [186,205],
             [186,222],
             [191,239],
             [198,15],
             [206,34],
             [215,54],
             [220,74],
             [226,92],
             [231,112],
             [235,135],
             [241,157],
             [243,177],]

x_elements = [
    # text box
    {'tpe': 'text',
     'data': {'content': '你好TBOT',
              'x': 180,
              'y': 120,
              'clear': True,
              'max_width': 9999,
              'color':'#277553',
              'font_size': 25,}},
    # rectangular
    {'tpe': 'rect',
     'data': {'x': 180,
              'y': 120,
              'w': 80,
              'h': 80,
              'clear': True,
              'fill': True,
              'color':'#AA8439',},},
    {'tpe': 'text',
     'data': {'content': '矩形',
              'x': 180,
              'y': 120,
              'clear': False,
              'max_width': 9999,
              'color':'#277553',
              'font_size': 25,}},
    # circle
    {'tpe': 'circle',
     'data': {'x': 180,
              'y': 120,
              'r': 80,
              'clear': True,
              'fill': False,
              'color':'#AAA139',}},
    {'tpe': 'text',
     'data': {'content': '圆形',
              'x': 180,
              'y': 120,
              'clear': False,
              'max_width': 9999,
              'color':'#277553',
              'font_size': 25,}},
    # line
    {'tpe': 'line',
     'data': {'x1': 180,
              'y1': 120,
              'x2': 80,
              'y2': 80,
              'clear': True,
              'color':'#AA6A39',}},
    {'tpe': 'text',
     'data': {'content': '直线',
              'x': 180,
              'y': 120,
              'clear': False,
              'max_width': 9999,
              'color':'#277553',
              'font_size': 25,}},
    # path
    {'tpe': 'path',
     'data': {'path': SOME_PATH,
              'fill': False,
              'clear': True,
              'color':'#AA6A39',}},
    {'tpe': 'text',
     'data': {'content': '路径',
              'x': 180,
              'y': 120,
              'clear': False,
              'max_width': 9999,
              'color':'#277553',
              'font_size': 25,}},
    # dot
    {'tpe': 'dot',
     'data': {'x': 180,
              'y': 120,
              'clear': True,
              'color':'red',}},
    {'tpe': 'text',
     'data': {'content': '点',
              'x': 50,
              'y': 50,
              'clear': False,
              'max_width': 9999,
              'color':'#277553',
              'font_size': 25,}}
]


def test_display_component():
    ctx = api.BellControl()
    ctx.init()

    for el in x_elements:
        tpe = el['tpe']
        data = el['data']
        if tpe == 'text':
            ctx.display_text(**data)
        elif tpe == 'rect':
            ctx.display_rect(**data)
        elif tpe == 'circle':
            ctx.display_circle(**data)
        elif tpe == 'line':
            ctx.display_line(**data)
        elif tpe == 'path':
            ctx.display_path(**data)
        elif tpe == 'dot':
            ctx.display_dot(**data)
        time.sleep(3)

    ctx.close()


